<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie-edge">
    <title>Training Error Plot</title>
    <script src="https://cdn.plot.ly/plotly-2.2.0.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js'></script>
</head>
<body>
    <div id="dataPlot">
        <select id="selectXFeature">
            <option>Choose x feature</option>
        </select>
        <select id="selectYFeature">
            <option>Choose y feature</option>
        </select>
        <select id="selectZFeature">
            <option>Choose z feature</option>
        </select>
        <input id="plot" type="button" value="plot"></input>
    </div>
    <div id="errorPlot"></div>
    <script>
        var selectX = document.getElementById("selectXFeature")
        var selectY = document.getElementById("selectYFeature")
        var selectZ = document.getElementById("selectZFeature")
        var data = []
        d3.csv('http://localhost:8080/fetchdata', function(data){
            console.log(Object.keys(data[0]));
            var options = Object.keys(data[0]);
            for (var idx = 0; idx < options.length; idx++) {
                var opt = options[idx];
                var elx = document.createElement("option");
                elx.textContent = opt;
                elx.value = opt;
                selectX.appendChild(elx);
                var ely = document.createElement("option");
                ely.textContent = opt;
                ely.value = opt;
                selectY.appendChild(ely);
                var elz = document.createElement("option");
                elz.textContent = opt;
                elz.value = opt;
                selectZ.appendChild(elz);
            }

        });

    </script>
</body>
</html>